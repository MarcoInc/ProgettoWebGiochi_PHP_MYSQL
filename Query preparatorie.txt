-creiamo il database:

create database Giochi;

-Usiamo il database creato
use Giochi;

-creiamo le tabelle:

CREATE TABLE utenti (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) NOT NULL,
    password VARCHAR(100) NOT NULL,
    isCuratore BOOLEAN DEFAULT FALSE
);

CREATE TABLE giochi (
    id INT AUTO_INCREMENT PRIMARY KEY,
    nome_gioco VARCHAR(255) NOT NULL,
    data_acquisto DATE NOT NULL,
    id_donatore INT,
    isPrestato BOOLEAN DEFAULT FALSE,
    FOREIGN KEY (id_donatore) REFERENCES utenti(id)
);

CREATE TABLE abbonamenti (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_utente INT NOT NULL,
    data_inizio_abbonamento DATE NOT NULL,
    data_fine_abbonamento DATE NOT NULL,
    stato ENUM('Donatore', 'Regolare', 'Non regolare') NOT NULL,
    FOREIGN KEY (id_utente) REFERENCES utenti(id)
);


CREATE TABLE prestiti (
    id INT AUTO_INCREMENT PRIMARY KEY,
    id_utente INT NOT NULL,
    id_gioco int NOT NULL
);

-Popoliamo le tabelle con alcune righe:

INSERT INTO utenti (username, password,isCuratore) 
VALUES 
    ('admin','password',TRUE),
    ('pippo','123456',FALSE),
    ('saro','qwerty',FALSE);
    

INSERT INTO giochi (nome_gioco, data_acquisto, id_donatore) 
VALUES 
    ('RISIKO!', '2023-12-15', NULL),
    ('Monopoly', '2024-01-20', 2),
    ('UNO', '2023-11-09', NULL);